# 前端开发规则（frontend-rules-for-agent.md）

> 本文档适用于：lejiaoku-vue 仓库  
> 所有 Agent 在编写或修改前端代码前，必须完整阅读并严格遵守。

---

## 一、技术与范围约束

- 框架：Vue（不强制版本）
- 架构：单页应用（SPA）
- 项目目标：**可长期维护、可持续演进**
- 不追求炫技，不引入与业务无关的复杂技术

---

## 二、产品与体验目标（最高优先级）

1. 面向 **中国教师与家长**
2. 新用户 **无需学习成本**
3. 3 秒内理解“这里能干什么”
4. 3 步内找到可用资源

---

## 三、核心信息架构规则（非常重要）

### 1. 首页唯一主入口

- 搜索框是首页最重要元素
- 首页所有其他内容都为“辅助搜索”服务
- 不允许多个主入口并列

---

### 2. 分类语义（不可混用）

#### 教学用途（Category）✅ 可作为主分类
- 教材
- 教案
- 课件
- 习题
- 视频
- 其他

#### 文件格式（File Format）❌ 不作为主分类
- PPT / PDF / DOC / 图片 / 视频  
仅用于资源详情或卡片角标展示

#### 教学属性（Metadata / Tag）
- 学科
- 年级
- 教材版本
- 目录结构

---

## 四、筛选与搜索规则

### 1. 筛选状态统一管理

所有筛选条件必须集中维护，不允许分散在组件中。

```js
filterState = {
  keyword: '',
  category: null,
  subject: [],
  grade: [],
  textbook: []
}
````

---

### 2. 筛选交互规则

* 所有筛选必须 **即时生效**
* 禁止“设置完再点搜索”
* 禁止筛选后跳转新页面
* URL 参数必须与当前筛选状态一致

---

## 五、页面与组件设计规则

### 1. 页面拆分原则

* 页面负责布局与组合
* 组件只负责单一功能
* 不编写“万能组件”

---

### 2. 组件职责边界

* 展示组件：不包含业务逻辑
* 业务组件：逻辑集中、状态可控
* 复杂逻辑必须拆至 composable / hooks

---

## 六、资源展示规则

### 1. 资源卡片信息层级

展示优先级从高到低：

1. 标题（必须清晰可读）
2. 教学用途分类
3. 学科 / 年级
4. 下载量 / 收藏量
5. 文件格式（弱化展示）

---

### 2. 资源卡片交互

* Hover 必须有反馈
* 明确“可点击性”
* 不隐藏核心信息

---

## 七、用户行为与权限感知

* 未登录用户可浏览资源列表
* 受限操作需明确提示（如下载、收藏）
* 不因权限隐藏核心内容结构

---

## 八、视觉与 UI 约束

* 风格：简洁、克制、偏工具型
* 色彩：不过度鲜艳
* 动效：只用于状态反馈
* 禁止纯装饰性动画

---

## 九、禁止事项（硬性约束）

* 不暴露技术术语给用户
* 不使用文件系统概念（如“目录 / 路径”）
* 不将筛选做成“表单提交模式”
* 不将文件格式当作资源类型

---

## 十、Agent 行为约束

* 不擅自新增页面主入口
* 不修改既有分类语义
* 不引入未经说明的 UI 框架
* 所有实现必须符合真实用户使用场景

---

## 十一、优先级说明

当本规则与其他说明冲突时，优先级如下：

1. blueprint-for-agent.md
2. frontend-rules-for-agent.md
3. 实际代码实现

